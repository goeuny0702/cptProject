<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>백호의 발톱 CBT 응시생 합격자 명단</title>
    <link rel="stylesheet" href="css/home.css">
</head>

<body>
    <div class="header">
        <div class="header-text">
            <h1>백호의 발톱 CBT</h1>
            <p>2025 정보처리기사 응시생 합격자 명단</p>
            <p>합격을 축하드립니다.</p>
        </div>
        <div class="header-img">
            <img src="images/winner.png" alt="winner" class="winner1">
            <img src="images/winner.png" alt="winner" class="winner2">
        </div>

    </div>

    <div class="main-container">
        <div class="img-container">
            <img src="images/name.png" alt="합격자 명단" id="movingImage">
            <img src="images/name.png" alt="합격자 명단" id="movingImage">
        </div>
    </div>

    <div class="button-container">
        <button onclick="showLogin()">로그인 하기</button>
        <button class="button1" onclick="nonmember()">비회원 이용</button>
    </div>

    <div class="login-container" id="loginContainer">
        <h3>로그인</h3>
        <input type="text" id="username" placeholder="아이디를 입력하세요">
        <input type="password" id="password" placeholder="비밀번호를 입력하세요">
        <button onclick="login()">로그인</button>
        <button onclick="signup()">회원가입</button>
        <div class="message" id="loginMessage"></div>
    </div>


    <!-- 챗봇 버튼 -->
    <button id="chatbotButton">💬</button>

    <!-- 챗봇 창 -->
    <div id="chatbotContainer">
        <div id="chatbotHeader">
            FAQ 챗봇
            <button id="closeChatbot">✖</button>
        </div>
        <div id="chatbox"></div>
        <div id="questionButtons"></div>
    </div>

    <script>

        const logindata = [
            { "username": "고은이", "password": "1234" },
            { "username": "김대원", "password": "1234" },
            { "username": "조수아", "password": "1234" },
            { "username": "장윤성", "password": "1234" },
            { "username": "고은123", "password": "1212" }
        ];

        // 로그인 창 보이기
        function showLogin() {
            const loginContainer = document.getElementById('loginContainer');
            loginContainer.style.display = (loginContainer.style.display === 'flex') ? 'none' : 'flex';
        }

        // 회원가입 페이지 이동
        function signup() {
            window.location.href = "join.html";
        }

        // 비회원 이용
        function nonmember() {
            window.location.href = "name.html";
        }

        // 로그인 함수 (logindata를 직접 사용)
        function login() {
            const userId = document.getElementById("username").value.trim();
            const password = document.getElementById("password").value.trim();

            if (!userId || !password) {
                alert("아이디와 비밀번호를 입력하세요!");
                return;
            }

            console.log("입력된 아이디:", userId);
            console.log("입력된 비밀번호:", password);
            console.log("저장된 사용자 목록:", logindata); // 콘솔에서 데이터 확인

            // 사용자 인증 확인
            const user = logindata.find(user => user.username === userId && user.password === password);

            if (!user) {
                alert("아이디 또는 비밀번호가 올바르지 않습니다.");
                return;
            }

            // 로그인 성공 시 userId 저장
            localStorage.setItem("userId", userId);
            alert(`${userId}님, 로그인 성공!`);
            window.location.href = "subject_select.html"; // 로그인 후 이동할 페이지
        }

        // 로그인한 사용자 이름 표시
        document.addEventListener("DOMContentLoaded", function () {
            const userId = localStorage.getItem("userId");
            const greetingElement = document.getElementById("userGreeting");

            if (greetingElement) {
                greetingElement.textContent = userId ? `${userId}님, 환영합니다!` : "로그인해주세요!";
            }
        });

        const faqData = {
            "자격증": {
                "정보처리기사": {
                    "시험 과목": "필기 시험은 5과목(소프트웨어 설계, 데이터베이스 등)으로 구성됩니다.",
                    "합격 기준": "필기는 과목별 40점 이상, 평균 60점 이상이어야 합니다.",
                    "실기 시험 방식": "SQL 작성 및 서술형 문제로 출제됩니다.",
                    "시험 준비 추천 교재": "CBT 문제풀이 사이트, 기출문제 풀이 앱, 한국산업인력공단 자료를 참고하세요."
                },
                "정보처리산업기사": {
                    "시험 과목": "정보처리기사를 기준으로 일부 과목이 축소되어 출제됩니다.",
                    "합격 기준": "필기는 과목별 40점 이상, 평균 60점 이상이어야 하며, 실기 시험을 통과해야 합니다.",
                    "실기 시험 방식": "실기는 SQL 작성과 시스템 분석 및 설계 관련 문제가 출제됩니다.",
                    "시험 준비 추천 교재": "한국산업인력공단 기출문제, 관련 학습 사이트를 참고하세요."
                },
                "정보처리기능사": {
                    "시험 과목": "기능사 시험은 주로 컴퓨터 기초와 프로그래밍에 관한 문제가 출제됩니다.",
                    "합격 기준": "필기 시험은 60점 이상, 실기 시험은 70점 이상이어야 합격입니다.",
                    "실기 시험 방식": "기초적인 프로그램 작성 및 실습 문제를 해결해야 합니다.",
                    "시험 준비 추천 교재": "기본서와 기출문제 풀이집, 온라인 강의를 참고하세요."
                }
            },
            "커리어": {
                "자격증의 직업적 가치": {
                    "정보처리기사": "IT 분야에서 필수 자격증 입니다.",
                    "산업기사와 기능사": "실무 경험이 적은 사람에게 유리 합니다."
                },
                "연봉 정보": {
                    "정보처리기사": "평균 연봉 5000만원 입니다.",
                    "정보처리산업기사": "평균 연봉 4000만원 입니다.",
                    "정보처리기능사": "평균 연봉 3500만원 입니다."
                },
                "진로 방향": {
                    "정보처리기사": [
                        "소프트웨어 개발자",
                        "시스템 관리자",
                        "IT 컨설턴트 등이 있습니다."
                    ],
                    "정보처리산업기사": [
                        "네트워크 엔지니어",
                        "시스템 엔지니어 등이 있습니다."
                    ],
                    "정보처리기능사": [
                        "기술 지원",
                        "데이터 분석가 등이 있습니다."
                    ]
                }
            },
            "시험 후 절차": {
                "합격 후 절차": {
                    "정보처리기사": "자격증 발급 신청 후 2주 이내 수령해야 합니다.",
                    "정보처리산업기사": "자격증 발급 신청 후 2주 이내 수령해야 합니다."
                },
                "자격증 갱신": {
                    "정보처리기사": "5년마다 갱신, 30시간 이상의 교육 이수해야 합니다.",
                    "정보처리산업기사": "5년마다 갱신, 30시간 이상의 교육 이수해야 합니다."
                }
            },
            "자격증을 통한 진로 탐색": {
                "관련 직무": {
                    "정보처리기사": [
                        "소프트웨어 개발",
                        "<br>시스템 구축 및 운영",
                        "<br>IT 프로젝트 관리 등이 있습니다."
                    ],
                    "정보처리산업기사": [
                        "시스템 설계 및 운영",
                        "<br>네트워크 엔지니어링 등이 있습니다."
                    ],
                    "정보처리기능사": [
                        "기술 지원",
                        "데이터베이스 관리 등이 있습니다."
                    ]
                },
                "관련 산업 동향": {
                    "IT 산업": "지속적인 성장 중, AI 및 클라우드 기술 수요 증가 등이 있습니다.",
                    "소프트웨어 개발": "프로그래밍 언어, 프레임워크 관련 기술 발전 등이 있습니다.",
                    "네트워크 엔지니어": "5G 및 IoT 관련 기술로 수요 확대 등이 있습니다."
                }


            }
        };

        const chatbotButton = document.getElementById("chatbotButton");
        const chatbotContainer = document.getElementById("chatbotContainer");
        const closeChatbot = document.getElementById("closeChatbot");
        const chatbox = document.getElementById("chatbox");

        chatbotButton.addEventListener("click", () => {
            chatbotContainer.style.display = chatbotContainer.style.display === "flex" ? "none" : "flex";
            chatbox.innerHTML = ""; // 초기화

            // "안녕" 사용자 메시지 추가
            const userMessage = document.createElement("div");
            userMessage.classList.add("message", "user");
            userMessage.innerHTML = `<div class="bubble">안녕</div>`;
            chatbox.appendChild(userMessage);

            // 0.5초 후 챗봇 응답 추가
            setTimeout(() => {
                displayChatWithOptions("무엇을 도와드릴까요?", Object.keys(faqData));
            }, 500);
        });



        closeChatbot.addEventListener("click", () => {
            chatbotContainer.style.display = "none";
            chatbox.innerHTML = "";
        });

        function displayChatWithOptions(question, options, backTo) {
            const botMessage = document.createElement("div");
            botMessage.classList.add("message", "bot");

            const bubble = document.createElement("div");
            bubble.classList.add("bubble");

            const textContainer = document.createElement("div");
            textContainer.textContent = question;
            textContainer.style.padding = "7px";
            bubble.appendChild(textContainer);

            const buttonContainer = document.createElement("div");
            buttonContainer.classList.add("button-group");

            // 카테고리 버튼 생성
            Object.keys(faqData).forEach(category => {
                const categoryButton = document.createElement("button");
                categoryButton.classList.add("question-option");
                categoryButton.textContent = category;
                categoryButton.onclick = () => {
                    displayCategoryQuestions(category, backTo);
                    scrollToBottom(); // 자동 스크롤
                };
                buttonContainer.appendChild(categoryButton);
            });

            // 뒤로가기 버튼
            if (backTo) {
                const backButton = document.createElement("button");
                backButton.textContent = "뒤로가기";
                backButton.classList.add("back-button");
                backButton.onclick = () => {
                    if (backTo === "category") {
                        displayChatWithOptions("무엇을 도와드릴까요?", Object.keys(faqData), null);
                    } else {
                        displayCategoryQuestions(backTo);
                    }
                    scrollToBottom(); // 자동 스크롤
                };
                buttonContainer.appendChild(backButton);
            }

            bubble.appendChild(buttonContainer);
            botMessage.appendChild(bubble);
            chatbox.appendChild(botMessage);

            scrollToBottom(); // 자동 스크롤
        }

        function displayCategoryQuestions(category, backTo) {

            const botMessage = document.createElement("div");
            botMessage.classList.add("message", "bot");

            const bubble = document.createElement("div");
            bubble.classList.add("bubble");

            const textContainer = document.createElement("div");

            displayChat(category); // 선택한 질문을 사용자 메시지로 보여주기

            textContainer.textContent = `${category}에 대한 질문들입니다.`;

            textContainer.style.padding = "7px";
            bubble.appendChild(textContainer);

            const buttonContainer = document.createElement("div");
            buttonContainer.classList.add("button-group");

            // 선택된 카테고리의 질문 버튼 생성
            const questions = faqData[category];
            Object.keys(questions).forEach(subject => {
                const subjectButton = document.createElement("button");
                subjectButton.classList.add("question-option");
                subjectButton.textContent = subject;
                subjectButton.onclick = () => {
                    // 사용자 메시지 표시
                    displaySubjectQuestions(category, subject, backTo); // 해당 과목의 질문들로 이동
                    scrollToBottom(); // 자동 스크롤
                };
                buttonContainer.appendChild(subjectButton);
            });


            // 뒤로가기 버튼 추가
            const backButton = document.createElement("button");
            backButton.textContent = "뒤로가기";
            backButton.classList.add("back-button");
            backButton.onclick = () => {
                displayChatWithOptions("무엇을 도와드릴까요?", Object.keys(faqData), null);
                scrollToBottom(); // 자동 스크롤
            };
            buttonContainer.appendChild(backButton);

            bubble.appendChild(buttonContainer);
            botMessage.appendChild(bubble);
            chatbox.appendChild(botMessage);

            scrollToBottom(); // 자동 스크롤
        }

        function displaySubjectQuestions(category, subject, backTo) {
            const botMessage = document.createElement("div");
            botMessage.classList.add("message", "bot");

            const bubble = document.createElement("div");
            bubble.classList.add("bubble");

            const textContainer = document.createElement("div");

            displayChat(subject); // 선택한 질문을 사용자 메시지로 보여주기

            textContainer.textContent = `${subject}에 대한 질문들입니다.`;

            textContainer.style.padding = "7px";
            bubble.appendChild(textContainer);

            const buttonContainer = document.createElement("div");
            buttonContainer.classList.add("button-group");

            // 해당 과목의 질문 버튼 생성
            const questions = faqData[category][subject];
            if (Array.isArray(questions)) {
                questions.forEach(question => {
                    const questionButton = document.createElement("button");
                    questionButton.classList.add("question-option");
                    questionButton.textContent = question;
                    questionButton.onclick = () => {
                        // 사용자 질문 표시
                        displayChat(question); // 선택한 질문을 사용자 메시지로 보여주기
                        displayChat(question, questions.find(q => q === question)); // 챗봇의 답변도 함께 표시
                        scrollToBottom(); // 자동 스크롤
                    };
                    buttonContainer.appendChild(questionButton);
                });
            } else {
                Object.keys(questions).forEach(question => {
                    const questionButton = document.createElement("button");
                    questionButton.classList.add("question-option");
                    questionButton.textContent = question;
                    questionButton.onclick = () => {
                        // 사용자 질문 표시
                        displayChat(question, questions[question]); // 챗봇의 답변도 함께 표시
                        scrollToBottom(); // 자동 스크롤
                    };
                    buttonContainer.appendChild(questionButton);
                });
            }


            // 뒤로가기 버튼 추가
            const backButton = document.createElement("button");
            backButton.textContent = "뒤로가기";
            backButton.classList.add("back-button");
            backButton.onclick = () => {
                if (backTo === "category") {
                    displayCategoryQuestions(category, backTo);
                } else {
                    displayChatWithOptions("무엇을 도와드릴까요?", Object.keys(faqData), null);
                }
                scrollToBottom(); // 자동 스크롤
            };
            buttonContainer.appendChild(backButton);

            bubble.appendChild(buttonContainer);
            botMessage.appendChild(bubble);
            chatbox.appendChild(botMessage);

            scrollToBottom(); // 자동 스크롤
        }

        // 자동으로 대화창 맨 아래로 스크롤하는 함수
        function scrollToBottom() {
            chatbox.scrollTop = chatbox.scrollHeight;
        }



        function displayChat(question, answer) {
            // 사용자 질문 말풍선 표시
            const userMessage = document.createElement("div");
            userMessage.classList.add("message", "user");
            userMessage.innerHTML = `<div class="bubble">${question}</div>`;
            chatbox.appendChild(userMessage);

            // 챗봇 답변 표시 (0.5초 후에 나타남)
            if (answer) {
                setTimeout(() => {
                    const botMessage = document.createElement("div");
                    botMessage.classList.add("message", "bot");
                    botMessage.innerHTML = `<div class="bubble">${answer}</div>`;
                    chatbox.appendChild(botMessage);
                    chatbox.scrollTop = chatbox.scrollHeight;
                }, 500);
            }
        }


    </script>

</body>

</html>